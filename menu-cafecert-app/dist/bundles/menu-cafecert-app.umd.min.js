!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/common/http"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("menu-cafecert-app",["exports","@angular/core","@angular/common","@angular/common/http","@angular/platform-browser"],t):t((e=e||self)["menu-cafecert-app"]={},e.ng.core,e.ng.common,e.ng.common.http,e.ng.platformBrowser)}(this,(function(e,t,n,r,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function a(e,t,n,r){var i,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}var s=function(){function e(){var e=this;this.toggleButton=!1,this.date=new Date,setInterval((function(){e.date=new Date}),1e3)}return e.prototype.ngOnInit=function(){},e.prototype.onResize=function(e){e.target.innerWidth>850&&(this.toggleButton=!1)},e.prototype.onToggleButton=function(){this.toggleButton=!this.toggleButton},a([t.Input()],e.prototype,"sessionId",void 0),a([t.HostListener("window:resize",["$event"])],e.prototype,"onResize",null),e=a([t.Component({selector:"app-body",template:'\x3c!-- <div class="header-area">\n    <div class="menuContainer">\n        <div class="row t-container">\n            <app-menu sessionId="966C67D95C8951C1CC98D64DB85AB655"></app-menu>\n        </div>\n    </div>\n</div>\n\n<div class="container-menu">\n    <div class="container" style="text-align: center;">\n        <ng-content></ng-content>\n        \n        <br />\n    </div>\n    <app-footer></app-footer>\n</div> --\x3e\n\n<div class="wrapper">\n    \x3c!-- Sidebar  --\x3e\n    <app-menu [sessionId]="sessionId" [toggleButton]="toggleButton" #menu></app-menu>\n    <div (window:resize)="onResize($event)"></div>\n    \x3c!-- Page Content  --\x3e\n    <div id="content" [ngClass]="{\'active\': toggleButton}">\n\n        <nav class="navbar navbar-expand-lg navbar-light bg-light">\n            <div class="container-fluid">\n\n                <button type="button" id="sidebarCollapse" class="btn btn-info" (click)="onToggleButton()">\n                    \x3c!-- <img src="node_modules/menu-cafecert-app/src/assets/images/align-left-solid.svg" style="width: 15px;height: 15px;color:white"> --\x3e\n                    <i class="fas fa-align-left"></i>\n                </button>\n                <img src="node_modules/menu-cafecert-app/src/assets/images/logo1.png" alt="Logo" class="text-left">\n                <img src="node_modules/menu-cafecert-app/src/assets/images/logo2.png" alt="Certificamos el café de Colombia"\n                    class="text-right">\n            </div>\n        </nav>\n\n        <div class="row">\n            <i class="far fa-user-circle" style="font-size:50px;color:#881010;padding-left:40px"></i>\n            <div class="col text-left">\n                <div class="row">\n                    <div class="col">{{menu.user}}</div>\n                </div>\n                <div class="row">\n                    <div class="col">{{menu.role}}</div>\n                </div>\n            </div>\n\n            <div class="col text-right" style="padding-right: 40px;">\n                {{date | date: \'dd/MM/yyyy hh:mm:ss\'}}\n            </div>\n        </div>\n        <hr>\n        <ng-content></ng-content>\n        <hr>\n        <app-footer></app-footer>\n    </div>\n\n</div>',styles:[".navbar{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:20px;box-shadow:1px 1px 3px rgba(0,0,0,.1)}.navbar-btn{box-shadow:none;outline:0!important;border:none}.line{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper{display:flex;width:100%;font-family:Verdana,sans-serif;font-size:14px}#sidebarCollapse{display:none;background-color:#b34a4a;border-color:#881010}#content{width:calc(100% - 250px);padding:20px 40px 80px;min-height:100vh;transition:.3s;position:absolute;top:0;right:0}#content.active{width:100%}@media (max-width:850px){#sidebarCollapse{display:block;transition:.3s}#content{width:100%}#content.active{width:calc(100% - 250px)}}"]})],e)}(),o=function(){function e(){}return e.prototype.ngOnInit=function(){},e=a([t.Component({selector:"app-footer",template:'<footer class="footer">\n    <div class="footer-bottom">\n        <div class="text-center">\n            <label>\n                CAFECERT - Bogotá D.C.- Colombia - 2020\n            </label>\n        </div>\n    </div>\n</footer>',styles:[".footer{padding:0;position:absolute;bottom:0;left:0;width:100%}.footer-bottom{padding:10px 0;text-align:center;color:#fff;background-color:#881010}"]})],e)}(),d="http://192.168.169.142:8076",l="http://192.168.169.142:8077",h="http://192.168.169.142:8078",c=function(){function e(e){this.http=e,this.toggleButton=!1,this.menu=[],this.showLogoutButton=!1}return e.prototype.ngOnInit=function(){var e=this;this.validateSession(this.sessionId).subscribe((function(t){"Internal Server Error"===t.status||"-1"===t.expired||(null===t.role?e.showLogoutButton=!1:(e.showLogoutButton=!0,e.role=t.role,e.user=t.txFullUsername,e.getMenuByRole(e.sessionId,t.role).subscribe((function(t){e.menu=t}))))}))},e.prototype.chooseMenu=function(e){window.open(e+"?param="+this.sessionId,"_self")},e.prototype.validateSession=function(e){var t={frontend:d,next:l,sessionid:e};return this.http.post(h+"/cafecert/findsession/",t)},e.prototype.getMenuByRole=function(e,t){var n={frontend:d,next:l,sessionid:e,txRole:t};return this.http.post(h+"/cafecert/menulist/",n)},e.prototype.logout=function(){var e={frontend:d,logoutreason:"2",next:l,txlogoutreason:"Sesion cerrada por el usuario",sessionid:this.sessionId};this.http.post(h+"/cafecert/cerrarsesion/",e).subscribe((function(e){"Internal Server Error"===e.status?console.log("Service Error"):window.open(e.next,"_self")}),(function(e){console.log("Error")}))},e.ctorParameters=function(){return[{type:r.HttpClient}]},a([t.Input()],e.prototype,"sessionId",void 0),a([t.Input()],e.prototype,"toggleButton",void 0),e=a([t.Component({selector:"app-menu",template:'<nav id="sidebar" style="height: 100%;" [ngClass]="{\'active\': toggleButton}">\n  <div class="sidebar-header">\n\n  </div>\n\n  <ul class="list-unstyled components">\n    <div *ngFor="let enlace of menu">\n      <li>\n        <a class="btn text-left" (click)="chooseMenu(enlace.url)">{{enlace.item}}</a>\n      </li>\n      <hr style="border-color: white; margin-top:0px; margin-bottom: 0px">\n    </div>\n\n\n    <li>\n      <a class="btn text-left" (click)="logout()">Cerrar Sesión</a>\n    </li>\n    <hr style="border-color: white; margin-top:0px; margin-bottom: 0px">\n  </ul>\n</nav>',styles:["a,a:focus,a:hover{color:inherit;font-family:Verdana,sans-serif;font-size:14px;text-decoration:none;transition:.1s}a[data-toggle=collapse]{position:relative}#sidebar{width:250px;position:fixed;top:0;left:0;height:100vh;z-index:999;background:#ccc;color:#fff;transition:.3s}#sidebar.active{margin-left:-250px}#sidebar .sidebar-header{padding:50px;background:#ccc}#sidebar ul.components{background-color:#881010}#sidebar ul p{color:#fff;padding:10px}#sidebar ul li a{padding:10px;display:block}#sidebar ul li a:hover{color:#fff;background:#b34a4a}#sidebar ul li.active>a,a[aria-expanded=true]{color:#fff;background:#ccc}ul ul a{font-size:.9em!important;padding-left:30px!important;background:#ccc}@media (max-width:850px){#sidebar{margin-left:-250px}#sidebar.active{margin-left:0}}"]})],e)}(),p=function(){function e(){}return e=a([t.NgModule({declarations:[s,c,o],imports:[n.CommonModule,i.BrowserModule],exports:[s,c,o]})],e)}(),g=function(){function e(e,t){this.elRef=e,this.renderer=t,this.options={},this.data=[],this.rows=[],this.listRowSize=[10,25,50,100],this.itemsPerPage=this.listRowSize[0],this.minRow=0,this.maxRow=this.itemsPerPage,this.paginationList=[],this.selectedPage=0,this.maxPage=0,this.tableHeight=0,this.minPageShow=0,this.pageLength=8,this.maxPageShow=this.pageLength}return e.prototype.ngAfterContentInit=function(){var e=this.elRef.nativeElement.children[1];this.rows=Array.prototype.slice.call(e.children),this.data=this.rows},e.prototype.ngAfterViewInit=function(){this.createDataTable()},e.prototype.createDataTable=function(){this.createTable();var e=this.elRef.nativeElement.parentNode,t=this.renderer.createElement("div");this.renderer.insertBefore(e,t,this.elRef.nativeElement),this.renderer.removeChild(e,this.elRef.nativeElement),this.renderer.appendChild(t,this.elRef.nativeElement);var n=!1;try{"SELECT"==e.firstChild.firstChild.children[1].nodeName&&(n=!0)}catch(e){}n&&this.renderer.removeChild(e,e.firstChild),this.renderer.insertBefore(t,this.createShow(),this.elRef.nativeElement);var r=!1;try{"UL"==e.lastChild.lastChild.nodeName&&(r=!0)}catch(e){}r&&this.renderer.removeChild(e,e.lastChild),this.renderer.appendChild(t,this.createPaginator())},e.prototype.createShow=function(){var e=this,t=this.renderer.createElement("div");this.renderer.addClass(t,"row");var n=this.renderer.createElement("div");this.renderer.setStyle(n,"padding","20px 0px 10px 50px"),this.renderer.addClass(n,"col");var r=this.renderer.createElement("label");this.renderer.setStyle(r,"padding-right","10px");var i=this.renderer.createText("Mostrar");this.renderer.appendChild(r,i),this.renderer.appendChild(n,r);var a=this.renderer.createElement("select");this.renderer.setStyle(a,"height","20px"),this.listRowSize.forEach((function(t){var n=e.renderer.createElement("option");n.value=String(t),t==e.itemsPerPage&&(n.selected=!0);var r=e.renderer.createText(String(t));e.renderer.appendChild(n,r),e.renderer.appendChild(a,n)})),this.renderer.appendChild(n,a);var s=this.renderer.createElement("label");this.renderer.setStyle(s,"padding-left","10px");var o=this.renderer.createText("registros");return this.renderer.appendChild(s,o),this.renderer.appendChild(n,s),this.renderer.appendChild(t,n),this.renderer.listen(a,"change",(function(t){return e.onChangePag(t.target.value)})),t},e.prototype.createTable=function(){var e=this,t=null,n=null,r=this.elRef.nativeElement.children;if(r.length>0){try{t=r[0],n=r[1]}catch(e){}null!=t&&(this.renderer.addClass(t,"table-header"),this.renderer.addClass(t,"text-center"));var i=0;this.createPagination(this.data),Array.prototype.slice.call(n.children).forEach((function(t){e.renderer.addClass(t,"table-row"),i%2==0?e.renderer.addClass(t,"pair"):e.renderer.addClass(t,"odd"),i>=e.minRow&&i<=e.maxRow-1?e.renderer.setStyle(t,"display",""):e.renderer.setStyle(t,"display","none"),i++}))}},e.prototype.createPaginator=function(){var e=this,t=this.renderer.createElement("ul");if(this.renderer.addClass(t,"pagination"),this.paginationList.length>0){var n=this.renderer.createElement("li");this.renderer.addClass(n,"page-item"),this.renderer.addClass(n,"text-center"),0===this.selectedPage&&this.renderer.addClass(n,"disabled"),this.renderer.setStyle(n,"min-width","45px");var r=this.renderer.createElement("a");this.renderer.addClass(r,"page-link"),this.renderer.addClass(r,"pagination-pages"),this.renderer.setStyle(r,"background-color","#da9292"),this.renderer.setStyle(r,"border-color","#881010");var i=this.renderer.createText("Anterior");if(this.renderer.appendChild(r,i),this.renderer.appendChild(n,r),this.renderer.appendChild(t,n),this.renderer.listen(r,"click",(function(){return e.pagination(e.selectedPage-1)})),this.paginationList.slice(this.minPageShow,this.maxPageShow).forEach((function(n){var r=e.renderer.createElement("li");e.renderer.addClass(r,"page-item"),e.renderer.addClass(r,"text-center"),e.renderer.setStyle(r,"min-width","45px");var i=e.renderer.createElement("a");e.renderer.addClass(i,"page-link"),e.renderer.addClass(i,"pagination-pages"),e.selectedPage==n&&e.renderer.addClass(i,"active-pagination");var a=e.renderer.createText(n+1);e.renderer.appendChild(i,a),e.renderer.appendChild(r,i),e.renderer.appendChild(t,r),e.renderer.listen(i,"click",(function(){return e.pagination(n)}))})),this.paginationList.length>this.pageLength&&(this.maxPage-this.maxPageShow>0||this.maxPageShow==this.pageLength)){var a=this.renderer.createElement("li");this.renderer.addClass(a,"page-item"),this.renderer.addClass(a,"text-center"),this.renderer.setStyle(a,"min-width","45px");var s=this.renderer.createElement("a");this.renderer.addClass(s,"page-link"),this.renderer.addClass(s,"pagination-pages"),this.renderer.setStyle(s,"background-color","#da9292"),this.renderer.setStyle(s,"border-color","#881010");var o=this.renderer.createText("...");this.renderer.appendChild(s,o),this.renderer.appendChild(a,s),this.renderer.appendChild(t,a)}var d=this.renderer.createElement("li");this.renderer.addClass(d,"page-item"),this.renderer.addClass(d,"text-center"),this.selectedPage===this.maxPage&&this.renderer.addClass(d,"disabled"),this.renderer.setStyle(d,"min-width","45px");var l=this.renderer.createElement("a");this.renderer.addClass(l,"page-link"),this.renderer.addClass(l,"pagination-pages"),this.renderer.setStyle(l,"background-color","#da9292"),this.renderer.setStyle(l,"border-color","#881010");var h=this.renderer.createText("Siguiente");this.renderer.appendChild(l,h),this.renderer.appendChild(d,l),this.renderer.appendChild(t,d),this.renderer.listen(l,"click",(function(){return e.pagination(e.selectedPage+1)}))}var c=this.renderer.createElement("div");return this.renderer.addClass(c,"d-flex"),this.renderer.addClass(c,"justify-content-center"),this.renderer.appendChild(c,t),c},e.prototype.pagination=function(e){if(this.paginationList.length>this.pageLength){var t=this.pageLength/2;e+.5>t+1?e>=this.maxPage-t-1?(this.minPageShow=this.maxPage-this.pageLength,this.maxPageShow=this.minPageShow+this.pageLength+1):(this.minPageShow=e-t,this.maxPageShow=this.minPageShow+this.pageLength):(this.minPageShow=0,this.maxPageShow=this.pageLength)}else this.minPageShow=0,this.maxPageShow=this.pageLength;this.minRow=this.itemsPerPage*e,this.maxRow=this.itemsPerPage*(e+1),this.selectedPage=e,this.createDataTable()},e.prototype.createPagination=function(e){for(var t=this.listRowSize[this.listRowSize.length-1],n=0;n<=this.listRowSize.length-1;n++)e.length>=this.listRowSize[n]&&e.length<=this.listRowSize[n+1]&&(t=this.listRowSize[n+1]);var r=this.itemsPerPage;r>t&&(r=t),this.paginationList=[];for(var i=e.length/r,a=0;a<Math.ceil(i);a++)this.paginationList.push(a);this.maxPage=Math.ceil(i)-1},e.prototype.onChangePag=function(e){this.itemsPerPage=e,this.createPagination(this.data),this.pagination(0)},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},a([t.Input()],e.prototype,"options",void 0),a([t.Input()],e.prototype,"data",void 0),e=a([t.Directive({selector:"[datatable]"})],e)}(),u=function(){function e(e){this.el=e,this.decimals=0,this.specialKeys=["Backspace","Tab","End","Home","ArrowLeft","ArrowRight","Delete"],this.aux=0}return e.prototype.check=function(e,t){if(t<=0)return String(e).match(new RegExp(/^\d+$/));var n="^\\s*((\\d+(\\.\\d{0,"+t+"})?)|((\\d*(\\.\\d{1,"+t+"}))))\\s*$";return String(e).match(new RegExp(n))},e.prototype.onKeyDown=function(e){if(-1===this.specialKeys.indexOf(e.key)){var t=this.el.nativeElement.value,n=t.concat(e.key);0!=t.length||"0"!=n||0!=this.decimals?"0"==t&&"."!=e.key&&this.decimals>0?e.preventDefault():!n||this.check(n,this.decimals)||e.preventDefault():e.preventDefault()}},e.ctorParameters=function(){return[{type:t.ElementRef}]},a([t.Input("decimals")],e.prototype,"decimals",void 0),a([t.HostListener("keydown",["$event"])],e.prototype,"onKeyDown",null),e=a([t.Directive({selector:"[numeric]"})],e)}(),f=function(){function e(){}return e=a([t.NgModule({declarations:[g,u],imports:[n.CommonModule,i.BrowserModule],exports:[g,u]})],e)}();e.BodyModule=p,e.DirectivesModule=f,e.ɵa=s,e.ɵb=c,e.ɵc=o,e.ɵd=g,e.ɵe=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=menu-cafecert-app.umd.min.js.map